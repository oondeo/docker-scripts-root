#!/bin/bash

#Fix openshift
chmod g=u /etc/passwd

#Install tiny on debian 
TINI_VERSION=v0.16.1
LANG=${LANG:-en_US}
cp /bin/sh /sh && apt-get update && apt-get install -y --no-install-recommends curl dash locales \
    zip unzip rsync && curl -o /sbin/tini -SLk https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini \
    && echo "en_US.UTF-8 UTF-8" > /etc/locale.gen \
    && echo $LANG UTF-8 >> /etc/locale.gen \
    && locale-gen \
    && chmod +x /sbin/tini && rm -rf /var/lib/apt/* /var/tmp/* /tmp/* /var/log/* 


mkdir -p /opt/app-root/src /opt/app-root/etc /opt/app-root/bin /opt/app-root/lib /opt/app-root/var
